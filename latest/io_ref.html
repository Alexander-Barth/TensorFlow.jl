<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>IO pipelines with queues · TensorFlow.jl</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-1123761-11', 'auto');
ga('send', 'pageview');
</script><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link href="assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><a href="index.html"><img class="logo" src="assets/logo.png" alt="TensorFlow.jl logo"/></a><h1>TensorFlow.jl</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="search.html"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="index.html">Home</a></li><li><span class="toctext">Manual</span><ul><li><a class="toctext" href="tutorial.html">MNIST tutorial</a></li><li><a class="toctext" href="visualization.html">Visualizing with Tensorboard</a></li><li><a class="toctext" href="io.html">Using queues for loading your data</a></li><li><a class="toctext" href="shape_inference.html">Shape inference</a></li><li><a class="toctext" href="saving.html">Saving and restoring</a></li></ul></li><li><span class="toctext">Reference</span><ul><li><a class="toctext" href="core.html">Core functions</a></li><li><a class="toctext" href="ops.html">Operations</a></li><li class="current"><a class="toctext" href="io_ref.html">IO pipelines with queues</a><ul class="internal"><li><a class="toctext" href="#Pipeline-functions-1">Pipeline functions</a></li><li><a class="toctext" href="#Readers-1">Readers</a></li></ul></li><li><a class="toctext" href="summary_ref.html">Summaries</a></li></ul></li><li><span class="toctext">Examples</span><ul><li><a class="toctext" href="basic_usage.html">Basic usage</a></li><li><a class="toctext" href="logistic.html">Logistic regression</a></li></ul></li><li><span class="toctext">Advanced</span><ul><li><a class="toctext" href="build_from_source.html">Build TensorFlow from source</a></li></ul></li></ul></nav><article id="docs"><header><nav><ul><li>Reference</li><li><a href="io_ref.html">IO pipelines with queues</a></li></ul><a class="edit-page" href="https://github.com/malmaud/TensorFlow.jl/blob/master/docs/src/io_ref.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>IO pipelines with queues</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="IO-1" href="#IO-1">IO</a></h1><h2><a class="nav-anchor" id="Pipeline-functions-1" href="#Pipeline-functions-1">Pipeline functions</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="TensorFlow.train.add_queue_runner" href="#TensorFlow.train.add_queue_runner"><code>TensorFlow.train.add_queue_runner</code></a> — <span class="docstring-category">Function</span>.</div><div><p><code>add_queue_runner(runner::QueueRunner)</code></p><p>Manually adds a queue runner to the graph&#39;s collection of queue runners. All runners in the collection will be executed in parallel when <code>start_queue_runners</code> is invoked.</p></div><a class="source-link" target="_blank" href="https://github.com/malmaud/TensorFlow.jl/blob/7ac3d4b346e67022654b141cfe4e7aacd485e06b/src/train/pipeline.jl#L1-L6">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="TensorFlow.train.start_queue_runners" href="#TensorFlow.train.start_queue_runners"><code>TensorFlow.train.start_queue_runners</code></a> — <span class="docstring-category">Function</span>.</div><div><p><code>start_queue_runners(session::Session)</code></p><p>Run all queue runners in parallel that were previously added to the graph&#39;s collection of queue runners via <code>add_queue_runner</code>.</p><p>Args:</p><ul><li><p><code>session</code>: The TensorFlow session containing the queues</p></li></ul></div><a class="source-link" target="_blank" href="https://github.com/malmaud/TensorFlow.jl/blob/7ac3d4b346e67022654b141cfe4e7aacd485e06b/src/train/pipeline.jl#L11-L19">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="TensorFlow.train.range_input_producer" href="#TensorFlow.train.range_input_producer"><code>TensorFlow.train.range_input_producer</code></a> — <span class="docstring-category">Function</span>.</div><div><p><code>range_input_producer(limit; num_epochs=nothing, do_shuffle=true, seed=0, capacity=32)</code></p><p>Produces the integers from 1 to <code>limit</code> in a queue.</p><p>Args:</p><ul><li><p><code>limit</code>: Inclusive upper bound on the endpoint of the range of integers to produce</p></li><li><p><code>num_epochs</code>: Number of times to produce the integers.</p></li><li><p><code>do_shuffle</code>: If <code>true</code>, shuffle the inputs each epoch.</p></li><li><p><code>seed</code>: Seed to use for the RNG if <code>do_shuffle</code> is <code>true</code>.</p></li><li><p><code>capacity</code>: Sets the queue capacity. Default is 32.</p></li></ul></div><a class="source-link" target="_blank" href="https://github.com/malmaud/TensorFlow.jl/blob/7ac3d4b346e67022654b141cfe4e7aacd485e06b/src/train/pipeline.jl#L37-L48">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="TensorFlow.train.input_producer" href="#TensorFlow.train.input_producer"><code>TensorFlow.train.input_producer</code></a> — <span class="docstring-category">Function</span>.</div><div><p><code>input_producer(input; element_shape=nothing, num_epochs=nothing, do_shuffle=true, seed=0, capacity=32)</code></p><p>Outputs the rows of <code>input</code> to a queue for input pipelining.</p><p>Args:</p><ul><li><p><code>input</code>: A <code>Tensor</code> with the rows to produce.</p></li><li><p><code>element_shape</code>: The shape of the input rows, in case it can&#39;t be inferred. Defaults to <code>nothing</code>.</p></li><li><p><code>num_epochs</code>: Number of times to produce each row. If unspecified (default), <code>input_producer</code> can produce each row an unlimited number of times.</p></li><li><p><code>do_shuffle</code>: If <code>true</code>, shuffle the inputs each epoch.</p></li><li><p><code>seed</code>: Seed to use for the RNG if <code>do_shuffle</code> is <code>true</code>.</p></li><li><p><code>capacity</code>: Sets the queue capacity. Default is 32.</p></li></ul></div><a class="source-link" target="_blank" href="https://github.com/malmaud/TensorFlow.jl/blob/7ac3d4b346e67022654b141cfe4e7aacd485e06b/src/train/pipeline.jl#L58-L70">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="TensorFlow.train.string_input_producer" href="#TensorFlow.train.string_input_producer"><code>TensorFlow.train.string_input_producer</code></a> — <span class="docstring-category">Function</span>.</div><div><p><code>string_input_producer(string_tensors; num_epochs=nothing, do_shuffle=true, seed=0, capacity=32)</code></p><p>Output strings to a queue for an input pipeline.</p><p>Args:</p><ul><li><p><code>string_tensor</code>: A one dimensional <code>Tensor</code> of strings to produce.</p></li><li><p><code>num_epochs</code>: Number of times to produce the strings.</p></li><li><p><code>do_shuffle</code>: If <code>true</code>, shuffle the inputs each epoch.</p></li><li><p><code>seed</code>: Seed to use for the RNG if <code>do_shuffle</code> is <code>true</code>.</p></li><li><p><code>capacity</code>: Sets the queue capacity. Default is 32.</p></li></ul></div><a class="source-link" target="_blank" href="https://github.com/malmaud/TensorFlow.jl/blob/7ac3d4b346e67022654b141cfe4e7aacd485e06b/src/train/pipeline.jl#L113-L124">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="TensorFlow.train.shuffle_batch" href="#TensorFlow.train.shuffle_batch"><code>TensorFlow.train.shuffle_batch</code></a> — <span class="docstring-category">Function</span>.</div><div><p><code>shuffle_batch(tensors, batch_size; capacity=32, enqueue_many=false, shapes=nothing, dynamic_pad=false, allow_smaller_final_batch=false)</code></p><p>Create batches by randomly shuffling <code>tensors</code>.</p><p>Args:</p><ul><li><p><code>tensors</code>: A list of tensors to enqueue.</p></li><li><p><code>batch_size</code>: The batch size which will be pulled from the queue.</p></li><li><p><code>capacity</code>: Sets the queue capacity. Default is 32.</p></li><li><p><code>dynamic_pad</code>: If <code>true</code> all <code>tensors</code> will be padded on unknown dimensions to <code>batch_size</code>. Otherwise <code>tensors</code> shapes must be fully known. Currently only <code>false</code> is supported.</p></li><li><p><code>enqueue_many</code>: If <code>false</code>, <code>tensors</code> represents a single example. Otherwise <code>tensors</code> represents a batch of examples. Currently only <code>false</code> is supported.</p></li><li><p><code>shapes</code>: The shapes for each example. Defaults to the inferred shapes from <code>tensors</code>.</p></li><li><p><code>allow_smaller_final_batch</code>: If <code>true</code> (default <code>false</code>), the final batch is allowed to be smaller than the other batches if there are not enough samples remaining.</p></li></ul></div><a class="source-link" target="_blank" href="https://github.com/malmaud/TensorFlow.jl/blob/7ac3d4b346e67022654b141cfe4e7aacd485e06b/src/train/pipeline.jl#L129-L142">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="TensorFlow.train.QueueRunner" href="#TensorFlow.train.QueueRunner"><code>TensorFlow.train.QueueRunner</code></a> — <span class="docstring-category">Type</span>.</div><div><p><code>QueueRunner</code></p><p>Represents an object that continually enqueues elements to a TensorFlow queue in parallel with other operations.</p></div><a class="source-link" target="_blank" href="https://github.com/malmaud/TensorFlow.jl/blob/7ac3d4b346e67022654b141cfe4e7aacd485e06b/src/train/pipeline.jl#L201-L205">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="TensorFlow.train.create_threads" href="#TensorFlow.train.create_threads"><code>TensorFlow.train.create_threads</code></a> — <span class="docstring-category">Function</span>.</div><div><p><code>create_threads(runner::QueueRunner, session::Session)</code></p><p>Creates tasks that run the enqueue operations in <code>runner</code> in parallel.</p></div><a class="source-link" target="_blank" href="https://github.com/malmaud/TensorFlow.jl/blob/7ac3d4b346e67022654b141cfe4e7aacd485e06b/src/train/pipeline.jl#L228-L232">source</a></section><h2><a class="nav-anchor" id="Readers-1" href="#Readers-1">Readers</a></h2><pre><code class="language-none">io.WholeFileReader
io.TextLineReader
read</code></pre><footer><hr/><a class="previous" href="ops.html"><span class="direction">Previous</span><span class="title">Operations</span></a><a class="next" href="summary_ref.html"><span class="direction">Next</span><span class="title">Summaries</span></a></footer></article></body></html>
